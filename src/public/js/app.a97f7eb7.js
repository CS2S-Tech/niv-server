(function(e){function n(n){for(var r,o,u=n[0],i=n[1],s=n[2],f=0,d=[];f<u.length;f++)o=u[f],Object.prototype.hasOwnProperty.call(a,o)&&a[o]&&d.push(a[o][0]),a[o]=0;for(r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r]);l&&l(n);while(d.length)d.shift()();return c.push.apply(c,s||[]),t()}function t(){for(var e,n=0;n<c.length;n++){for(var t=c[n],r=!0,o=1;o<t.length;o++){var u=t[o];0!==a[u]&&(r=!1)}r&&(c.splice(n--,1),e=i(i.s=t[0]))}return e}var r={},o={app:0},a={app:0},c=[];function u(e){return i.p+"js/"+({}[e]||e)+"."+{"chunk-00456d71":"85bcf568","chunk-06c1dd47":"92aaf0be","chunk-0b889c17":"6cf36134","chunk-2d0e5e97":"f2890b32","chunk-3155d0f2":"bf4a79d9","chunk-441ee2d4":"c4a892f0","chunk-542518c1":"687366ec","chunk-5f6e02c6":"157a8a08","chunk-7cf06f37":"17e8cf4b","chunk-7e4b5d86":"ceb65206","chunk-7fb2206b":"a7ba9152","chunk-cb010138":"488579c0"}[e]+".js"}function i(n){if(r[n])return r[n].exports;var t=r[n]={i:n,l:!1,exports:{}};return e[n].call(t.exports,t,t.exports,i),t.l=!0,t.exports}i.e=function(e){var n=[],t={"chunk-00456d71":1,"chunk-06c1dd47":1,"chunk-0b889c17":1,"chunk-3155d0f2":1,"chunk-542518c1":1,"chunk-5f6e02c6":1,"chunk-7cf06f37":1,"chunk-7e4b5d86":1,"chunk-7fb2206b":1,"chunk-cb010138":1};o[e]?n.push(o[e]):0!==o[e]&&t[e]&&n.push(o[e]=new Promise((function(n,t){for(var r="css/"+({}[e]||e)+"."+{"chunk-00456d71":"4161ba60","chunk-06c1dd47":"02d3424a","chunk-0b889c17":"1b64ad8f","chunk-2d0e5e97":"31d6cfe0","chunk-3155d0f2":"75f36c2b","chunk-441ee2d4":"31d6cfe0","chunk-542518c1":"04078e7f","chunk-5f6e02c6":"0ab52939","chunk-7cf06f37":"8e90ac73","chunk-7e4b5d86":"ea44e138","chunk-7fb2206b":"ec923e91","chunk-cb010138":"b3342ed6"}[e]+".css",a=i.p+r,c=document.getElementsByTagName("link"),u=0;u<c.length;u++){var s=c[u],f=s.getAttribute("data-href")||s.getAttribute("href");if("stylesheet"===s.rel&&(f===r||f===a))return n()}var d=document.getElementsByTagName("style");for(u=0;u<d.length;u++){s=d[u],f=s.getAttribute("data-href");if(f===r||f===a)return n()}var l=document.createElement("link");l.rel="stylesheet",l.type="text/css",l.onload=n,l.onerror=function(n){var r=n&&n.target&&n.target.src||a,c=new Error("Loading CSS chunk "+e+" failed.\n("+r+")");c.code="CSS_CHUNK_LOAD_FAILED",c.request=r,delete o[e],l.parentNode.removeChild(l),t(c)},l.href=a;var h=document.getElementsByTagName("head")[0];h.appendChild(l)})).then((function(){o[e]=0})));var r=a[e];if(0!==r)if(r)n.push(r[2]);else{var c=new Promise((function(n,t){r=a[e]=[n,t]}));n.push(r[2]=c);var s,f=document.createElement("script");f.charset="utf-8",f.timeout=120,i.nc&&f.setAttribute("nonce",i.nc),f.src=u(e);var d=new Error;s=function(n){f.onerror=f.onload=null,clearTimeout(l);var t=a[e];if(0!==t){if(t){var r=n&&("load"===n.type?"missing":n.type),o=n&&n.target&&n.target.src;d.message="Loading chunk "+e+" failed.\n("+r+": "+o+")",d.name="ChunkLoadError",d.type=r,d.request=o,t[1](d)}a[e]=void 0}};var l=setTimeout((function(){s({type:"timeout",target:f})}),12e4);f.onerror=f.onload=s,document.head.appendChild(f)}return Promise.all(n)},i.m=e,i.c=r,i.d=function(e,n,t){i.o(e,n)||Object.defineProperty(e,n,{enumerable:!0,get:t})},i.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},i.t=function(e,n){if(1&n&&(e=i(e)),8&n)return e;if(4&n&&"object"===typeof e&&e&&e.__esModule)return e;var t=Object.create(null);if(i.r(t),Object.defineProperty(t,"default",{enumerable:!0,value:e}),2&n&&"string"!=typeof e)for(var r in e)i.d(t,r,function(n){return e[n]}.bind(null,r));return t},i.n=function(e){var n=e&&e.__esModule?function(){return e["default"]}:function(){return e};return i.d(n,"a",n),n},i.o=function(e,n){return Object.prototype.hasOwnProperty.call(e,n)},i.p="/",i.oe=function(e){throw console.error(e),e};var s=window["webpackJsonp"]=window["webpackJsonp"]||[],f=s.push.bind(s);s.push=n,s=s.slice();for(var d=0;d<s.length;d++)n(s[d]);var l=f;c.push([0,"chunk-vendors"]),t()})({0:function(e,n,t){e.exports=t("56d7")},"034f":function(e,n,t){"use strict";t("85ec")},"3e0f":function(e,n,t){"use strict";t("a2f6")},"56d7":function(e,n,t){"use strict";t.r(n);t("e260"),t("e6cf"),t("cca6"),t("a79d"),t("e792"),t("0cdd");var r=t("2b0e"),o=t("5f5b");t("ab8b"),t("2dd8");r["default"].use(o["a"]);var a=function(){var e=this,n=e.$createElement,t=e._self._c||n;return t("div",{attrs:{id:"app"}},[t("TitleBar"),t("div",{staticClass:"container"},[t("b-breadcrumb",{attrs:{items:[{text:"Home",href:"/"},{text:e.$route.name,href:e.$route.path}]}}),t("router-view")],1),this.$route.meta.footer?t("footer",{staticClass:"main"},[e._v(" Copyright Â© 2021 ATES OPL. All Rights Reserved. ")]):e._e()],1)},c=[],u=function(){var e=this,n=e.$createElement,r=e._self._c||n;return r("div",[r("b-navbar",{staticClass:"titlebar",attrs:{toggleable:"lg",type:"dark"}},[e.loggedIn?r("b-navbar-toggle",{attrs:{target:"nav-collapse"}}):e._e(),r("b-navbar-brand",{attrs:{href:"/dashboard"}},[r("img",{attrs:{src:t("cf05"),alt:"ATechno Embedded Solutions",width:"32px",height:"32px"}}),e._v(" "+e._s(e.isMobile?"ATES OPL":"ATechno Embedded Solutions")+" ")]),e.loggedIn?r("b-collapse",{attrs:{id:"nav-collapse","is-nav":""}},[r("b-navbar-nav",{staticClass:"ml-auto operations"},[r("b-nav-item-dropdown",{attrs:{right:"",text:"Options"}},["admin"===e.designation||"superadmin"===e.designation?r("b-dropdown-item",{on:{click:function(n){return e.goToLogs()}}},[r("LogsIcon",{staticClass:"ico",attrs:{title:"Logs"}}),r("strong",[e._v("Logs")])],1):e._e(),r("b-dropdown-item",{on:{click:function(n){return e.goToManageUsers()}}},[r("ManageUsers",{staticClass:"ico",attrs:{title:"ManageUsers"}}),r("strong",[e._v("Manage Users")])],1),r("b-dropdown-item",{on:{click:function(n){return e.goToProfile()}}},[r("FaceProfile",{staticClass:"ico",attrs:{title:"Profile"}}),r("strong",[e._v("Profile")])],1),r("b-dropdown-item",{on:{click:function(n){return e.goToAboutUs()}}},[r("Info",{staticClass:"ico",attrs:{title:"About Us"}}),r("strong",[e._v("About Us")])],1)],1),r("b-nav-item",{on:{click:function(n){return e.logout()}}},[r("LogoutIcon",{staticClass:"ico dark",attrs:{title:"Logout"}}),r("strong",[e._v("Logout")])],1)],1)],1):e._e()],1)],1)},i=[],s=t("1da1"),f=t("5530"),d=(t("96cf"),t("6709")),l=t("15e8"),h=t("4611"),g=t("9fb6"),p=t("dbe5"),m=t("2f62"),b={name:"TitleBar",components:{LogoutIcon:d["a"],FaceProfile:l["a"],LogsIcon:g["a"],ManageUsers:p["a"],Info:h["a"]},mounted:function(){var e=this;window.addEventListener("resize",(function(){var n=window.screen.width;e.isMobile=n<=760}))},computed:Object(f["a"])({},Object(m["c"])({loggedIn:"getLogInStatus",designation:"getDesignation"})),methods:{logout:function(){var e=this;return Object(s["a"])(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:e.$bvModal.msgBoxConfirm("Are you sure you want to logout?").then((function(n){n&&e.$store.dispatch("logout").then((function(){e.$router.push({name:"Home"})}))})).catch((function(n){e.message=n.message,e.$bvModal.msgBoxOk(n.message)}));case 1:case"end":return n.stop()}}),n)})))()},goToProfile:function(){this.$router.push({name:"Profile"})},goToLogs:function(){this.$router.push({name:"Logs"})},goToAboutUs:function(){this.$router.push({name:"About"})},goToManageUsers:function(){this.$router.push({name:"ManageUsers"})}},data:function(){return{ip:window.location.host,isMobile:!1,message:""}}},w=b,v=(t("3e0f"),t("2877")),k=Object(v["a"])(w,u,i,!1,null,"61258ba6",null),y=k.exports,T={name:"App",components:{TitleBar:y},data:function(){return{}}},j=T,O=(t("034f"),Object(v["a"])(j,a,c,!1,null,null,null)),A=O.exports,S=t("2909"),P=(t("d3b7"),t("e9c4"),function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n,t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var o={username:t.uname,password:t.pwd};fetch("/user/login",{headers:{"Content-Type":"application/json"},mode:"cors",cache:"default",method:"POST",body:""+JSON.stringify(o)}).then((function(e){return e.json()})).then((function(t){console.log({data:t}),t.message?r(t.message):(n.commit("setToken",t.accessToken),n.commit("setLoggedIn",!0),n.commit("setDesignation",t.designation),e())})).catch((function(e){r(e.message)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}()),x=P,L=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n,t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){var o={username:t.username,password:t.password,masterPassword:t.masterPassword,email:t.email,institute:t.institute,designation:t.designation};console.log(o),fetch("/user/register",{method:"post",headers:{"Content-Type":"application/json",Accept:"*/*",Authorization:"Bearer "+n.getters.getAccessToken},body:JSON.stringify(o)}).then((function(e){return e.json()})).then((function(n){console.log({data:n}),n.msg?r(n.msg):e()})).catch((function(e){r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),R=L,I=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n,t){var r,o;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return t&&n.commit("loading"),e.next=3,fetch("/node",{headers:new Headers({Authorization:"Bearer "+n.getters.getAccessToken})});case 3:return r=e.sent,e.next=6,r.json();case 6:o=e.sent,n.commit("updateSensors",o),n.commit("loaded");case 9:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),C=I,_=function(e){return new Promise((function(n){clearInterval(window.appInterval),e.commit("purgeToken"),e.commit("purgeDesignation"),e.commit("setLoggedIn",!1),n()}))},E=_,B=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n,t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){fetch("/node/add",{headers:new Headers({Authorization:"Bearer "+n.getters.getAccessToken,"Content-Type":"application/json"}),mode:"cors",cache:"default",method:"POST",body:""+JSON.stringify(t)}).then((function(n){201==n.status?e():n.json().then((function(e){r(e.msg)}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),N=B,M=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n,t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){fetch("/node/modify",{headers:new Headers({Authorization:"Bearer "+n.getters.getAccessToken,"Content-Type":"application/json"}),mode:"cors",cache:"default",method:"POST",body:""+JSON.stringify(t)}).then((function(n){201==n.status?e():n.json().then((function(e){r(e.msg)}))}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),D=M,U=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n,t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){fetch("/node/"+t,{method:"DELETE",headers:new Headers({Authorization:"Bearer "+n.getters.getAccessToken})}).then((function(e){return e.json()})).then((function(n){"Deleted Successfully"==n.message?e():r()}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),$=U,H=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n,t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){console.log(t),fetch(""+"/node/readings/all/".concat(t),{headers:new Headers({Authorization:"Bearer "+n.getters.getAccessToken})}).then((function(e){return e.json()})).then((function(n){console.log(n),e(n)})).catch((function(e){r(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),z=H,F=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){fetch("/user/about",{headers:new Headers({Authorization:"Bearer "+n.getters.getAccessToken})}).then((function(e){return e.json()})).then((function(n){e(n.user)})).catch((function(e){t(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),J=F,q=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n,t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r={username:t};fetch("/user/forgot",{headers:{"Content-Type":"application/json"},mode:"cors",cache:"default",method:"POST",body:""+JSON.stringify(r)}).then((function(e){return e.json()})).then((function(n){console.log({data:n}),e(!0)})).catch((function(e){alert(e.message),n(e.message)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),G=q,K=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n,t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,n){var r={token:t.token,password:t.pwd};fetch("/user/resetpwd",{headers:{"Content-Type":"application/json"},mode:"cors",cache:"default",method:"POST",body:""+JSON.stringify(r)}).then((function(e){return e.json()})).then((function(n){n.newUser&&e(!0)})).catch((function(e){alert(e.message),n(e.message)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),Q=K,V=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n,t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,r){fetch("/user/delete",{method:"DELETE",headers:new Headers({Authorization:"Bearer "+n.getters.getAccessToken,"Content-Type":"application/json"}),mode:"cors",cache:"default",body:""+JSON.stringify(t)}).then((function(e){return e.json()})).then((function(n){console.log(n),"Deleted"==n.msg?e():r("lol")}))})));case 1:case"end":return e.stop()}}),e)})));return function(n,t){return e.apply(this,arguments)}}(),W=V,X=function(){var e=Object(s["a"])(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.abrupt("return",new Promise((function(e,t){fetch("/logs",{headers:new Headers({Authorization:"Bearer "+n.getters.getAccessToken})}).then((function(e){return e.json()})).then((function(n){e(n.updates)})).catch((function(e){t(e)}))})));case 1:case"end":return e.stop()}}),e)})));return function(n){return e.apply(this,arguments)}}(),Y=X,Z=function(e,n){e.commit("updateSensors",n)},ee=function(e,n){e.commit("setToken",n)},ne=function(e,n){e.commit("setLoggedIn",n)},te=function(e,n){e.commit("setDesignation",n)},re=function(e){e.commit("purgeToken")},oe={updateSensors:Z,setToken:ee,purgeToken:re,setLoggedIn:ne,setDesignation:te,login:x,register:R,fetchSensors:C,logout:E,addNode:N,modifyNode:D,deleteNode:$,fetchTrend:z,sendResetLink:G,fetchProfile:J,fetchLogs:Y,deleteUser:W,resetPassword:Q},ae="accessToken",ce="designation",ue=function(){return window.localStorage.getItem(ae)},ie=function(e){return window.localStorage.setItem(ae,e)},se=function(){return window.localStorage.removeItem(ae)},fe=function(){return window.localStorage.getItem(ce)},de=function(e){return window.localStorage.setItem(ce,e)},le=function(){return window.localStorage.removeItem(ce)};r["default"].use(m["a"]);var he=new m["a"].Store({state:{sensors:[],accessToken:ue(),loggedIn:!!ue(),designation:fe(),loading:!0,faulties:Array()},mutations:{loaded:function(e){e.loading=!1},loading:function(e){e.loading=!0},updateSensors:function(e,n){e.sensors=n},setToken:function(e,n){ie(n),e.accessToken=n},setLoggedIn:function(e,n){e.loggedIn=n},setDesignation:function(e,n){e.designation=n,de(n)},purgeToken:function(e){e.accessToken=null,se()},purgeDesignation:function(e){e.designation=null,le()},setFaulties:function(e,n){var t;(t=e.faulties).push.apply(t,Object(S["a"])(n))}},actions:oe,modules:{},getters:{getSensors:function(e){return e.sensors},getAccessToken:function(e){return e.accessToken},getDesignation:function(e){return e.designation},getLogInStatus:function(e){return e.loggedIn},isLoading:function(e){return e.loading},getFaulties:function(e){return e.faulties}}}),ge=(t("3ca3"),t("ddb0"),t("8c4f"));r["default"].use(ge["a"]);var pe=[{path:"/",name:"Home",component:function(){return t.e("chunk-0b889c17").then(t.bind(null,"eec5"))},meta:{footer:!0}},{path:"/dashboard",name:"Dashboard",component:function(){return t.e("chunk-7cf06f37").then(t.bind(null,"7277"))},meta:{footer:!1}},{path:"/trends/",name:"Trends",component:function(){return t.e("chunk-cb010138").then(t.bind(null,"9634"))},meta:{footer:!1}},{path:"/graph/:uid/:from/:to",name:"GraphHigh",component:function(){return t.e("chunk-441ee2d4").then(t.bind(null,"9460"))},meta:{footer:!1}},{path:"/profile",name:"Profile",component:function(){return t.e("chunk-7e4b5d86").then(t.bind(null,"c66d"))},meta:{footer:!0}},{path:"/forgot-password",name:"Forgot",component:function(){return t.e("chunk-7fb2206b").then(t.bind(null,"0fdf"))},meta:{footer:!0}},{path:"/forgot-password-intranet",name:"ForgotIntra",component:function(){return t.e("chunk-3155d0f2").then(t.bind(null,"cb3c"))},meta:{footer:!0}},{path:"/passwordreset",name:"Reset",component:function(){return t.e("chunk-542518c1").then(t.bind(null,"0813"))},meta:{footer:!0}},{path:"/manage-users",name:"ManageUsers",component:function(){return t.e("chunk-5f6e02c6").then(t.bind(null,"016f"))},meta:{footer:!1}},{path:"/logs",name:"Logs",component:function(){return t.e("chunk-00456d71").then(t.bind(null,"bbae"))},meta:{footer:!1}},{path:"/aboutus",name:"About",component:function(){return t.e("chunk-06c1dd47").then(t.bind(null,"2664"))},meta:{footer:!0}},{path:"/:catchAll(.*)",component:function(){return t.e("chunk-2d0e5e97").then(t.bind(null,"9703"))},meta:{footer:!0}}],me=new ge["a"]({mode:"history",base:"/",routes:pe}),be=me,we=t("6cf9"),ve=t("4452"),ke=t.n(ve),ye=t("9483");Object(ye["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}}),r["default"].config.productionTip=!1,r["default"].use(we["a"]),r["default"].use(ke.a),new r["default"]({store:he,router:be,render:function(e){return e(A)}}).$mount("#app")},"85ec":function(e,n,t){},a2f6:function(e,n,t){},cf05:function(e,n,t){e.exports=t.p+"img/logo.ecd4bcce.png"}});
//# sourceMappingURL=app.a97f7eb7.js.map