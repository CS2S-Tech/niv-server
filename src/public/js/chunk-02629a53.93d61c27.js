(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-02629a53"],{"0647":function(e,t,o){"use strict";var r=function(e,t){var o=t._c;return o("span",t._g(t._b({staticClass:"material-design-icon delete-icon",class:[t.data.class,t.data.staticClass],attrs:{"aria-hidden":t.props.decorative,"aria-label":t.props.title,role:"img"}},"span",t.data.attrs,!1),t.listeners),[o("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.props.fillColor,width:t.props.size,height:t.props.size,viewBox:"0 0 24 24"}},[o("path",{attrs:{d:"M19,4H15.5L14.5,3H9.5L8.5,4H5V6H19M6,19A2,2 0 0,0 8,21H16A2,2 0 0,0 18,19V7H6V19Z"}},[t.props.decorative?t._e():o("title",[t._v(t._s(t.props.title))])])])])},a=[],i=(o("a9e3"),{name:"DeleteIcon",props:{title:{type:String,default:"Delete icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}}),n=i,s=o("2877"),d=Object(s["a"])(n,r,a,!0,null,null,null);t["a"]=d.exports},"14b8":function(e,t,o){"use strict";o("edd5")},2532:function(e,t,o){"use strict";var r=o("23e7"),a=o("e330"),i=o("5a34"),n=o("1d80"),s=o("577e"),d=o("ab13"),l=a("".indexOf);r({target:"String",proto:!0,forced:!d("includes")},{includes:function(e){return!!~l(s(n(this)),s(i(e)),arguments.length>1?arguments[1]:void 0)}})},"44e7":function(e,t,o){var r=o("861d"),a=o("c6b6"),i=o("b622"),n=i("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[n])?!!t:"RegExp"==a(e))}},"5a34":function(e,t,o){var r=o("da84"),a=o("44e7"),i=r.TypeError;e.exports=function(e){if(a(e))throw i("The method doesn't accept regular expressions");return e}},"6cf7":function(e,t,o){"use strict";o("9894")},7277:function(e,t,o){"use strict";o.r(t);var r=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("b-modal",{staticClass:"long",attrs:{id:"nodeForm",title:"Add new Node","hide-footer":""}},[o("AddNodeForm")],1),o("div",{staticClass:"row"},[o("div",{staticClass:"col-md-2"},[o("b-button",{staticStyle:{float:"left","margin-right":"10px"},attrs:{variant:"outline-primary"},on:{click:function(t){return e.$bvModal.show("nodeForm")}}},[o("PlusIcon",{staticClass:"addnode"}),e._v(" Add Node ")],1)],1),o("div",{staticClass:"col-md-2"},[o("b-button",{staticStyle:{float:"left"},attrs:{variant:"outline-primary"},on:{click:function(t){return e.goToTrend()}}},[o("ChartLine",{staticClass:"addnode"}),e._v(" See trend ")],1)],1),o("div",{staticClass:"col-md-8"},[o("div",{staticStyle:{float:"right","text-align":"right","font-size":"10pt"}},[o("strong",[e._v(" "+e._s(e.ip)+" ")])])])]),o("div",{staticClass:"summary"},[o("b",[e._v("Summary")]),e._v(" "),o("br"),e._v(" "+e._s(e.faultyNodes&&e.faultyNodes.length)+" Faulty nodes "),o("br"),e._v(" "+e._s(e.healthyNodes&&e.healthyNodes.length)+" Healthy nodes ")]),o("hr"),o("b-tabs",[o("b-tab",{attrs:{title:"Faulty"}},[e.sensors&&!e.loading?o("Cards",{attrs:{sensors:e.faultyNodes}}):e._e()],1),o("b-tab",{attrs:{title:"Healthy"}},[e.sensors&&!e.loading?o("Cards",{attrs:{sensors:e.healthyNodes}}):e._e()],1)],1),!e.sensors||e.loading?o("vue-loaders-ball-beat",{attrs:{color:"grey",scale:"1"}}):e._e()],1)},a=[],i=o("5530"),n=o("1da1"),s=(o("96cf"),o("4e82"),o("4de4"),o("d3b7"),function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("div",[o("div",[o("b-modal",{staticClass:"long",attrs:{id:"modifyForm",title:"Modify Node","hide-footer":""}},[o("ModifyNodeForm",{attrs:{sensor:e.currentNode}})],1)],1),e.sensors.length>0?o("div",{staticClass:"container"},e._l(e.sensors,(function(t){return o("b-card",{key:t._id,staticClass:"card drk",attrs:{title:"UID: "+t.uid,"sub-title":t.reading.user}},[o("hr"),o("b-card-text",[o("table",[o("tr",[o("td",[e._v(" Machine ")]),o("td",{staticClass:"value"},[e._v(" "+e._s(t.machineName)+" ")])]),o("tr",[o("td",[e._v(" Location ")]),o("td",{staticClass:"value"},[e._v(" "+e._s(t.location)+" ")])]),o("tr",[o("td",[e._v(" Sub-location ")]),o("td",{staticClass:"value"},[e._v(" "+e._s(t.sublocation||"")+" ")])]),t.isTemperature?o("tr",[o("td",[e._v("Temperature")]),o("td",{staticClass:"value",class:{ok:e.checkOK(t.temperatureRange,t.reading.temperature),notok:!e.checkOK(t.temperatureRange,t.reading.temperature)}},[e._v(" "+e._s(t.reading.temperature||"-")+" Â°C ")])]):e._e(),t.isHumidity?o("tr",[o("td",[e._v("Humidity")]),o("td",{staticClass:"value",class:{ok:e.checkOK(t.humidityRange,t.reading.humidity),notok:!e.checkOK(t.humidityRange,t.reading.humidity)}},[e._v(" "+e._s(t.reading.humidity||"-")+" % ")])]):e._e(),t.isCO2?o("tr",[o("td",[e._v("CO"),o("sub",[e._v("2")])]),o("td",{staticClass:"value",class:{ok:e.checkOK(t.co2Range,t.reading.co2),notok:!e.checkOK(t.co2Range,t.reading.co2)}},[e._v(" "+e._s(t.reading.co2||"-")+" % ")])]):e._e(),o("tr",[o("td",[e._v("Battery")]),o("td",{staticClass:"value",style:{ok:!0}},[parseInt(t.reading.battery)>=90?o("BatteryFull",{staticClass:"ok",attrs:{title:"Battery Full"}}):parseInt(t.reading.battery)>=20&&parseInt(t.reading.battery)<90?o("BatteryHalf",{staticClass:"notbad",attrs:{title:"Battery Normal"}}):o("BatteryLow",{staticClass:"notok",attrs:{title:"Battery Critical"}})],1)])]),o("hr"),o("table",[o("tr",[o("td",{on:{click:function(o){return e.deleteNode(t.uid)}}},[o("DeleteIcon",{staticClass:"action-btn delete",attrs:{title:"Delete Node"}})],1),o("td",{staticClass:"value"},[o("Pencil",{staticClass:"action-btn",attrs:{title:"Edit the node"},on:{click:function(o){return e.showModify(t)}}})],1)])]),o("hr"),o("div",[e._v(" Last Updated at: "+e._s(e.formatDate(t.reading.datetime))+", "),o("br"),e._v(" "+e._s(e.checkOffline(t))+" ago ")])])],1)})),1):o("div",[o("h3",[e._v("No nodes in this category")])])])}),d=[],l=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("b-form",[o("b-form-group",{attrs:{label:"UID: ","label-for":"node_uid",description:"Please enter uid"}},[o("b-form-input",{attrs:{id:"node_uid",placeholder:"Enter UID"},model:{value:e.modifyNodeForm.uid,callback:function(t){e.$set(e.modifyNodeForm,"uid",t)},expression:"modifyNodeForm.uid"}})],1),o("b-form-group",{attrs:{label:"Location: ","label-for":"node_loc",description:"Please enter Location"}},[o("b-form-input",{attrs:{id:"node_loc",placeholder:"Enter Location"},model:{value:e.modifyNodeForm.loc,callback:function(t){e.$set(e.modifyNodeForm,"loc",t)},expression:"modifyNodeForm.loc"}})],1),o("b-form-group",{attrs:{label:"Sublocation: ","label-for":"node_sloc",description:"Please enter sub Location"}},[o("b-form-input",{attrs:{id:"node_sloc",placeholder:"Enter Sublocation"},model:{value:e.modifyNodeForm.sloc,callback:function(t){e.$set(e.modifyNodeForm,"sloc",t)},expression:"modifyNodeForm.sloc"}})],1),o("b-form-group",{attrs:{label:"Machine: ","label-for":"node_mac",description:"Please enter Machine name"}},[o("b-form-input",{attrs:{id:"node_mac",placeholder:"Enter Machine"},model:{value:e.modifyNodeForm.mac,callback:function(t){e.$set(e.modifyNodeForm,"mac",t)},expression:"modifyNodeForm.mac"}})],1),o("b-form-checkbox",{attrs:{id:"_isTemp",name:"checkbox1"},model:{value:e.isTemp,callback:function(t){e.isTemp=t},expression:"isTemp"}},[e._v(" Temperature ")]),e.isTemp?o("b-form-group",{attrs:{label:"Temperature Range: ","label-for":"node_temperaturer",description:"Please enter Temperature Range"}},[o("b-form-input",{staticClass:"range",attrs:{type:"number",id:"node_temperaturen",placeholder:"Enter Temperature Min"},model:{value:e.modifyNodeForm.temperaturen,callback:function(t){e.$set(e.modifyNodeForm,"temperaturen",t)},expression:"modifyNodeForm.temperaturen"}}),o("b-form-input",{staticClass:"range",attrs:{type:"number",id:"node_temperaturex",placeholder:"Enter Temperature Max"},model:{value:e.modifyNodeForm.temperaturex,callback:function(t){e.$set(e.modifyNodeForm,"temperaturex",t)},expression:"modifyNodeForm.temperaturex"}})],1):e._e(),o("b-form-checkbox",{attrs:{id:"_isHum",name:"checkbox2"},model:{value:e.isHum,callback:function(t){e.isHum=t},expression:"isHum"}},[e._v(" Humidity ")]),e.isHum?o("b-form-group",{attrs:{label:"Humidity Range: ","label-for":"node_humidityr",description:"Please enter Pressure Range"}},[o("b-form-input",{staticClass:"range",attrs:{type:"number",id:"node_humidityn",placeholder:"Enter Humidity Min"},model:{value:e.modifyNodeForm.humidityn,callback:function(t){e.$set(e.modifyNodeForm,"humidityn",t)},expression:"modifyNodeForm.humidityn"}}),o("b-form-input",{staticClass:"range",attrs:{type:"number",id:"node_humidityx",placeholder:"Enter Humidity Max"},model:{value:e.modifyNodeForm.humidityx,callback:function(t){e.$set(e.modifyNodeForm,"humidityx",t)},expression:"modifyNodeForm.humidityx"}})],1):e._e(),o("b-form-checkbox",{attrs:{id:"_isCO2",name:"checkbox3"},model:{value:e.isCO2,callback:function(t){e.isCO2=t},expression:"isCO2"}},[e._v(" CO"),o("sub",[e._v("2")])]),e.isCO2?o("b-form-group",{attrs:{label:"CO2 Range: ","label-for":"node_co2r",description:"Please enter CO2 Range"}},[o("b-form-input",{staticClass:"range",attrs:{type:"number",id:"node_co2n",placeholder:"Enter CO2 Min"},model:{value:e.modifyNodeForm.co2n,callback:function(t){e.$set(e.modifyNodeForm,"co2n",t)},expression:"modifyNodeForm.co2n"}}),o("b-form-input",{staticClass:"range",attrs:{type:"number",id:"node_co2x",placeholder:"Enter CO2 Max"},model:{value:e.modifyNodeForm.co2x,callback:function(t){e.$set(e.modifyNodeForm,"co2x",t)},expression:"modifyNodeForm.co2x"}})],1):e._e(),o("hr"),o("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.modifyNode()}}},[e._v("Update Node")])],1)},c=[],u={name:"ModifyNodeForm",props:["sensor"],methods:{modifyNode:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o={uid:e.modifyNodeForm.uid,location:e.modifyNodeForm.loc,sublocation:e.modifyNodeForm.sloc,machineName:e.modifyNodeForm.mac,co2Range:{min:e.modifyNodeForm.co2n,max:e.modifyNodeForm.co2x},temperatureRange:{min:e.modifyNodeForm.temperaturen,max:e.modifyNodeForm.temperaturex},pressureRange:{min:e.modifyNodeForm.pressuren,max:e.modifyNodeForm.pressurex},humidityRange:{min:e.modifyNodeForm.humidityn,max:e.modifyNodeForm.humidityx},isTemp:e.isTemp,isHum:e.isHum,isCO2:e.isCO2},e.$store.dispatch("modifyNode",o).then((function(){e.$bvModal.msgBoxOk("Node Modified").then((function(){e.$bvModal.hide("nodeForm"),e.$store.dispatch("fetchSensors",1)}))})).catch((function(t){return e.$bvModal.msgBoxOk("Could not modified node: "+t)}));case 2:case"end":return t.stop()}}),t)})))()}},created:function(){this.modifyNodeForm={uid:this.sensor.uid,loc:this.sensor.location,sloc:this.sensor.sublocation,mac:this.sensor.machineName,co2n:parseFloat(this.sensor.co2Range.min),co2x:parseFloat(this.sensor.co2Range.max),temperaturen:parseFloat(this.sensor.temperatureRange.min),temperaturex:parseFloat(this.sensor.temperatureRange.max),humidityn:parseFloat(this.sensor.humidityRange.min),humidityx:parseFloat(this.sensor.humidityRange.max)},this.isTemp=this.sensor.isTemperature,this.isHum=this.sensor.isHumidity,this.isCO2=this.sensor.isCO2},data:function(){return{modifyNodeForm:{uid:null,loc:null,sloc:null,mac:null,co2n:null,co2x:null,temperaturen:null,temperaturex:null,humidityn:null,humidityx:null},isTemp:null,isHum:null,isCO2:null}}},m=u,p=(o("8dd5"),o("2877")),f=Object(p["a"])(m,l,c,!1,null,null,null),h=f.exports,b=o("0647"),g=(o("cc73"),function(e,t){var o=t._c;return o("span",t._g(t._b({staticClass:"material-design-icon battery-icon",class:[t.data.class,t.data.staticClass],attrs:{"aria-hidden":t.props.decorative,"aria-label":t.props.title,role:"img"}},"span",t.data.attrs,!1),t.listeners),[o("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.props.fillColor,width:t.props.size,height:t.props.size,viewBox:"0 0 24 24"}},[o("path",{attrs:{d:"M16.67,4H15V2H9V4H7.33A1.33,1.33 0 0,0 6,5.33V20.67C6,21.4 6.6,22 7.33,22H16.67A1.33,1.33 0 0,0 18,20.67V5.33C18,4.6 17.4,4 16.67,4Z"}},[t.props.decorative?t._e():o("title",[t._v(t._s(t.props.title))])])])])}),y=[],v=(o("a9e3"),{name:"BatteryIcon",props:{title:{type:String,default:"Battery icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}}),_=v,x=Object(p["a"])(_,g,y,!0,null,null,null),N=x.exports,C=function(e,t){var o=t._c;return o("span",t._g(t._b({staticClass:"material-design-icon battery-low-icon",class:[t.data.class,t.data.staticClass],attrs:{"aria-hidden":t.props.decorative,"aria-label":t.props.title,role:"img"}},"span",t.data.attrs,!1),t.listeners),[o("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.props.fillColor,width:t.props.size,height:t.props.size,viewBox:"0 0 24 24"}},[o("path",{attrs:{d:"M16 20H8V6H16M16.67 4H15V2H9V4H7.33C6.6 4 6 4.6 6 5.33V20.67C6 21.4 6.6 22 7.33 22H16.67C17.41 22 18 21.41 18 20.67V5.33C18 4.6 17.4 4 16.67 4M15 16H9V19H15V16"}},[t.props.decorative?t._e():o("title",[t._v(t._s(t.props.title))])])])])},F=[],k={name:"BatteryLowIcon",props:{title:{type:String,default:"Battery Low icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},O=k,H=Object(p["a"])(O,C,F,!0,null,null,null),w=H.exports,$=function(e,t){var o=t._c;return o("span",t._g(t._b({staticClass:"material-design-icon battery50-icon",class:[t.data.class,t.data.staticClass],attrs:{"aria-hidden":t.props.decorative,"aria-label":t.props.title,role:"img"}},"span",t.data.attrs,!1),t.listeners),[o("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.props.fillColor,width:t.props.size,height:t.props.size,viewBox:"0 0 24 24"}},[o("path",{attrs:{d:"M16,13H8V6H16M16.67,4H15V2H9V4H7.33A1.33,1.33 0 0,0 6,5.33V20.67C6,21.4 6.6,22 7.33,22H16.67A1.33,1.33 0 0,0 18,20.67V5.33C18,4.6 17.4,4 16.67,4Z"}},[t.props.decorative?t._e():o("title",[t._v(t._s(t.props.title))])])])])},M=[],R={name:"Battery50Icon",props:{title:{type:String,default:"Battery50 icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},S=R,L=Object(p["a"])(S,$,M,!0,null,null,null),B=L.exports,T=function(e,t){var o=t._c;return o("span",t._g(t._b({staticClass:"material-design-icon pencil-icon",class:[t.data.class,t.data.staticClass],attrs:{"aria-hidden":t.props.decorative,"aria-label":t.props.title,role:"img"}},"span",t.data.attrs,!1),t.listeners),[o("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.props.fillColor,width:t.props.size,height:t.props.size,viewBox:"0 0 24 24"}},[o("path",{attrs:{d:"M20.71,7.04C21.1,6.65 21.1,6 20.71,5.63L18.37,3.29C18,2.9 17.35,2.9 16.96,3.29L15.12,5.12L18.87,8.87M3,17.25V21H6.75L17.81,9.93L14.06,6.18L3,17.25Z"}},[t.props.decorative?t._e():o("title",[t._v(t._s(t.props.title))])])])])},E=[],I={name:"PencilIcon",props:{title:{type:String,default:"Pencil icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},V=I,P=Object(p["a"])(V,T,E,!0,null,null,null),A=P.exports,j={name:"Cards",props:["sensors"],data:function(){return{server:"",currentNode:null}},components:{DeleteIcon:b["a"],BatteryFull:N,BatteryHalf:B,ModifyNodeForm:h,BatteryLow:w,Pencil:A},methods:{showModify:function(e){this.currentNode=e,this.$bvModal.show("modifyForm")},checkOK:function(e,t){return e.min<=t&&t<=e.max},deleteNode:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:t.$bvModal.msgBoxConfirm("Are you sure you want to delete the node "+e).then((function(o){o&&t.$store.dispatch("deleteNode",e).then((function(){t.$bvModal.msgBoxOk("Successfully Deleted "+e).then((function(){})),t.$store.dispatch("fetchSensors",1)})).catch((function(){return t.$bvModal.msgBoxOk("Could not delete "+e)}))})).catch((function(e){t.message=e.message,t.$bvModal.msgBoxOk(e.message)}));case 1:case"end":return o.stop()}}),o)})))()},checkOffline:function(e){var t=Date.parse(e.reading.datetime),o=Math.floor((new Date-t)/1e3/3600);return o>24?Math.floor(o/24)+" days":o+" hrs"},formatDate:function(e){return new Date(e).toLocaleString("en-IN")}}},z=j,D=(o("14b8"),Object(p["a"])(z,s,d,!1,null,null,null)),K=D.exports,U=function(){var e=this,t=e.$createElement,o=e._self._c||t;return o("b-form",[o("b-form-group",{attrs:{label:"UID: ","label-for":"node_uid",description:"Please enter uid"}},[o("b-form-input",{attrs:{id:"node_uid",placeholder:"Enter UID"},model:{value:e.addNodeForm.uid,callback:function(t){e.$set(e.addNodeForm,"uid",t)},expression:"addNodeForm.uid"}})],1),o("b-form-group",{attrs:{label:"Location: ","label-for":"node_loc",description:"Please enter Location"}},[o("b-form-input",{attrs:{id:"node_loc",placeholder:"Enter Location"},model:{value:e.addNodeForm.loc,callback:function(t){e.$set(e.addNodeForm,"loc",t)},expression:"addNodeForm.loc"}})],1),o("b-form-group",{attrs:{label:"Sublocation: ","label-for":"node_sloc",description:"Please enter Sublocation"}},[o("b-form-input",{attrs:{id:"node_sloc",placeholder:"Enter Sublocation"},model:{value:e.addNodeForm.sloc,callback:function(t){e.$set(e.addNodeForm,"sloc",t)},expression:"addNodeForm.sloc"}})],1),o("b-form-group",{attrs:{label:"Machine: ","label-for":"node_mac",description:"Please enter Machine name"}},[o("b-form-input",{attrs:{id:"node_mac",placeholder:"Enter Machine"},model:{value:e.addNodeForm.mac,callback:function(t){e.$set(e.addNodeForm,"mac",t)},expression:"addNodeForm.mac"}})],1),o("b-form-checkbox",{attrs:{id:"_isTemp",name:"checkbox1"},model:{value:e.isTemp,callback:function(t){e.isTemp=t},expression:"isTemp"}},[e._v(" Temperature ")]),e.isTemp?o("b-form-group",{attrs:{label:"Temperature Range: ","label-for":"node_temperaturer",description:"Please enter Temperature Range"}},[o("b-form-input",{staticClass:"range",attrs:{type:"number",id:"node_temperaturen",placeholder:"Enter Temperature Min"},model:{value:e.addNodeForm.temperaturen,callback:function(t){e.$set(e.addNodeForm,"temperaturen",t)},expression:"addNodeForm.temperaturen"}}),o("b-form-input",{staticClass:"range",attrs:{type:"number",id:"node_temperaturex",placeholder:"Enter Temperature Max"},model:{value:e.addNodeForm.temperaturex,callback:function(t){e.$set(e.addNodeForm,"temperaturex",t)},expression:"addNodeForm.temperaturex"}})],1):e._e(),o("b-form-checkbox",{attrs:{id:"_isHum",name:"checkbox2"},model:{value:e.isHum,callback:function(t){e.isHum=t},expression:"isHum"}},[e._v(" Humidity ")]),e.isHum?o("b-form-group",{attrs:{label:"Humidity Range: ","label-for":"node_humidityr",description:"Please enter Pressure Range"}},[o("b-form-input",{staticClass:"range",attrs:{type:"number",id:"node_humidityn",placeholder:"Enter Humidity Min"},model:{value:e.addNodeForm.humidityn,callback:function(t){e.$set(e.addNodeForm,"humidityn",t)},expression:"addNodeForm.humidityn"}}),o("b-form-input",{staticClass:"range",attrs:{type:"number",id:"node_humidityx",placeholder:"Enter Humidity Max"},model:{value:e.addNodeForm.humidityx,callback:function(t){e.$set(e.addNodeForm,"humidityx",t)},expression:"addNodeForm.humidityx"}})],1):e._e(),o("b-form-checkbox",{attrs:{id:"_isCO2",name:"checkbox3"},model:{value:e.isCO2,callback:function(t){e.isCO2=t},expression:"isCO2"}},[e._v(" CO"),o("sub",[e._v("2")])]),e.isCO2?o("b-form-group",{attrs:{label:"CO2 Range: ","label-for":"node_co2r",description:"Please enter CO2 Range"}},[o("b-form-input",{staticClass:"range",attrs:{type:"number",id:"node_co2n",placeholder:"Enter CO2 Min"},model:{value:e.addNodeForm.co2n,callback:function(t){e.$set(e.addNodeForm,"co2n",t)},expression:"addNodeForm.co2n"}}),o("b-form-input",{staticClass:"range",attrs:{type:"number",id:"node_co2x",placeholder:"Enter CO2 Max"},model:{value:e.addNodeForm.co2x,callback:function(t){e.$set(e.addNodeForm,"co2x",t)},expression:"addNodeForm.co2x"}})],1):e._e(),o("hr"),o("b-button",{attrs:{variant:"primary"},on:{click:function(t){return e.addNode()}}},[e._v("Add Node")])],1)},Z=[],J={name:"AddNodeForm",methods:{addNode:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:o={uid:e.addNodeForm.uid,location:e.addNodeForm.loc,sublocation:e.addNodeForm.sloc,machineName:e.addNodeForm.mac,co2Range:{min:e.addNodeForm.co2n,max:e.addNodeForm.co2x},temperatureRange:{min:e.addNodeForm.temperaturen,max:e.addNodeForm.temperaturex},pressureRange:{min:e.addNodeForm.pressuren,max:e.addNodeForm.pressurex},humidityRange:{min:e.addNodeForm.humidityn,max:e.addNodeForm.humidityx},isTemp:e.isTemp,isHum:e.isHum,isCO2:e.isCO2},e.$store.dispatch("addNode",o).then((function(){e.$bvModal.msgBoxOk("Node Added").then((function(){e.$bvModal.hide("nodeForm"),e.$store.dispatch("fetchSensors",1)}))})).catch((function(t){return e.$bvModal.msgBoxOk("Could not Add node: "+t)}));case 2:case"end":return t.stop()}}),t)})))()}},data:function(){return{addNodeForm:{uid:"",loc:"",sloc:"",mac:"",co2n:0,co2x:100,temperaturen:0,temperaturex:100,pressuren:0,pressurex:100,humidityn:0,humidityx:100},isTemp:!1,isHum:!1,isCO2:!1}}},q=J,G=(o("6cf7"),Object(p["a"])(q,U,Z,!1,null,null,null)),Q=G.exports,W=function(e,t){var o=t._c;return o("span",t._g(t._b({staticClass:"material-design-icon plus-circle-icon",class:[t.data.class,t.data.staticClass],attrs:{"aria-hidden":t.props.decorative,"aria-label":t.props.title,role:"img"}},"span",t.data.attrs,!1),t.listeners),[o("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.props.fillColor,width:t.props.size,height:t.props.size,viewBox:"0 0 24 24"}},[o("path",{attrs:{d:"M17,13H13V17H11V13H7V11H11V7H13V11H17M12,2A10,10 0 0,0 2,12A10,10 0 0,0 12,22A10,10 0 0,0 22,12A10,10 0 0,0 12,2Z"}},[t.props.decorative?t._e():o("title",[t._v(t._s(t.props.title))])])])])},X=[],Y={name:"PlusCircleIcon",props:{title:{type:String,default:"Plus Circle icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},ee=Y,te=Object(p["a"])(ee,W,X,!0,null,null,null),oe=te.exports,re=function(e,t){var o=t._c;return o("span",t._g(t._b({staticClass:"material-design-icon chart-line-icon",class:[t.data.class,t.data.staticClass],attrs:{"aria-hidden":t.props.decorative,"aria-label":t.props.title,role:"img"}},"span",t.data.attrs,!1),t.listeners),[o("svg",{staticClass:"material-design-icon__svg",attrs:{fill:t.props.fillColor,width:t.props.size,height:t.props.size,viewBox:"0 0 24 24"}},[o("path",{attrs:{d:"M16,11.78L20.24,4.45L21.97,5.45L16.74,14.5L10.23,10.75L5.46,19H22V21H2V3H4V17.54L9.5,8L16,11.78Z"}},[t.props.decorative?t._e():o("title",[t._v(t._s(t.props.title))])])])])},ae=[],ie={name:"ChartLineIcon",props:{title:{type:String,default:"Chart Line icon"},decorative:{type:Boolean,default:!1},fillColor:{type:String,default:"currentColor"},size:{type:Number,default:24}}},ne=ie,se=Object(p["a"])(ne,re,ae,!0,null,null,null),de=se.exports,le=o("2f62"),ce=o("b85c");o("caad"),o("2532");function ue(e){var t,o="Faulty sensors are : ",r=Object(ce["a"])(e);try{for(r.s();!(t=r.n()).done;){var a=t.value;o+="".concat(a.uid," ")}}catch(i){r.e(i)}finally{r.f()}return console.log(e),o}var me={name:"Dashboard",components:{Cards:K,AddNodeForm:Q,PlusIcon:oe,ChartLine:de},data:function(){return{fetchSensors:null,ip:window.location.host,server:"",healthyNodes:[],faultyNodes:[]}},mounted:function(){var e=this;return Object(n["a"])(regeneratorRuntime.mark((function t(){var o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:null==e.$store.getters.getAccessToken&&(e.$bvModal.msgBoxOk("Please Login"),e.$router.push("/")),e.fetchSensors=setInterval((function(){0!=e.$store.getters.getSensors.length?(0!=e.$store.getters.getSensors.length&&(e.healthyNodes=e.$store.getters.getSensors.filter((function(t){var o=e.applyLogic(t.isCO2,e.checkOK(t.co2Range,t.reading.co2)),r=e.applyLogic(t.isTemperature,e.checkOK(t.temperatureRange,t.reading.temperature)),a=e.applyLogic(t.isHumidity,e.checkOK(t.humidityRange,t.reading.humidity));return o&&r&&a})).sort((function(e,t){return Date.parse(t.reading.datetime)-Date.parse(e.reading.datetime)})),e.faultyNodes=e.$store.getters.getSensors.filter((function(t){var o=e.applyLogic(t.isCO2,e.checkOK(t.co2Range,t.reading.co2)),r=e.applyLogic(t.isTemperature,e.checkOK(t.temperatureRange,t.reading.temperature)),a=e.applyLogic(t.isHumidity,e.checkOK(t.humidityRange,t.reading.humidity));return!(o&&r&&a)})).sort((function(e,t){return Date.parse(t.reading.datetime)-Date.parse(e.reading.datetime)}))),e.$store.commit("setFaulties",e.faultyNodes),e.$store.getters.getLogInStatus&&e.$store.dispatch("fetchSensors",0)):e.$store.getters.getLogInStatus&&e.$store.dispatch("fetchSensors",0)}),3e3),o=setInterval((function(){if(e.faultyNodes.length>0){var t=ue(e.faultyNodes);console.log(t),e.$notification.show("There are few faulty nodes",{body:t},{})}}),18e5),window.appInterval=e.fetchSensors,window.notificationInterval=o;case 5:case"end":return t.stop()}}),t)})))()},computed:Object(i["a"])(Object(i["a"])({},Object(le["c"])({sensors:"getSensors",loading:"isLoading"})),Object(le["b"])("notifications",["add"])),methods:{applyLogic:function(e,t){return e&&t||!e},goToTrend:function(){this.$router.push({name:"Trends"})},checkOK:function(e,t){return e.min<=t&&t<=e.max},deleteNode:function(e){var t=this;return Object(n["a"])(regeneratorRuntime.mark((function o(){return regeneratorRuntime.wrap((function(o){while(1)switch(o.prev=o.next){case 0:t.$bvModal.msgBoxConfirm("Are you sure you want to delete the node "+e).then((function(o){o&&t.$store.dispatch("deleteNode",e).then((function(){t.$bvModal.msgBoxOk("Successfully Deleted "+e).then((function(){})),t.$store.dispatch("fetchSensors",1)})).catch((function(){return t.$bvModal.msgBoxOk("Could not delete "+e)}))})).catch((function(e){t.message=e.message,t.$bvModal.msgBoxOk(e.message)}));case 1:case"end":return o.stop()}}),o)})))()}}},pe=me,fe=(o("8711"),Object(p["a"])(pe,r,a,!1,null,"6695e3c9",null));t["default"]=fe.exports},8711:function(e,t,o){"use strict";o("f653")},"8dd5":function(e,t,o){"use strict";o("bc14")},9894:function(e,t,o){},ab13:function(e,t,o){var r=o("b622"),a=r("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(o){try{return t[a]=!1,"/./"[e](t)}catch(r){}}return!1}},b85c:function(e,t,o){"use strict";o.d(t,"a",(function(){return a}));o("a4d3"),o("e01a"),o("d3b7"),o("d28b"),o("3ca3"),o("ddb0");var r=o("06c5");function a(e,t){var o="undefined"!==typeof Symbol&&e[Symbol.iterator]||e["@@iterator"];if(!o){if(Array.isArray(e)||(o=Object(r["a"])(e))||t&&e&&"number"===typeof e.length){o&&(e=o);var a=0,i=function(){};return{s:i,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:i}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,s=!0,d=!1;return{s:function(){o=o.call(e)},n:function(){var e=o.next();return s=e.done,e},e:function(e){d=!0,n=e},f:function(){try{s||null==o["return"]||o["return"]()}finally{if(d)throw n}}}}},bc14:function(e,t,o){},caad:function(e,t,o){"use strict";var r=o("23e7"),a=o("4d64").includes,i=o("44d2");r({target:"Array",proto:!0},{includes:function(e){return a(this,e,arguments.length>1?arguments[1]:void 0)}}),i("includes")},cc73:function(e,t,o){},edd5:function(e,t,o){},f653:function(e,t,o){}}]);
//# sourceMappingURL=chunk-02629a53.93d61c27.js.map